# =============================================================================
# Phoenix Pipeline Configuration
# =============================================================================
# Copy this file to .env and update with your settings
# Command: cp .env.example .env
#
# Then edit .env with your actual values

# =============================================================================
# REQUIRED: The Graph API Configuration
# =============================================================================
# The Graph provides blockchain data indexing. You NEED a free API key!
#
# How to get your API key (5 minutes):
# 1. Visit: https://thegraph.com/studio/
# 2. Click "Connect Wallet" (use MetaMask or any Web3 wallet)
#    Note: No gas fees, no transactions - just for authentication
# 3. Click "API Keys" â†’ "Create API Key"
# 4. Name it (e.g., "phoenix-pipeline") and copy the key
# 5. Replace [api-key] below with your actual key
#
# Example:
# Before: https://gateway.thegraph.com/api/[api-key]/subgraphs/id/...
# After:  https://gateway.thegraph.com/api/abc123def456/subgraphs/id/...
#
SUBGRAPH_URL=https://gateway.thegraph.com/api/[api-key]/subgraphs/id/HUZDsRpEVP2AvzDCyzDHtdc64dyDxx8FQjzsmqSg4H3B
SUBGRAPH_TIMEOUT=30
SUBGRAPH_MAX_RETRIES=3

# =============================================================================
# Pipeline Settings
# =============================================================================

# Time window for fetching swaps (in minutes)
# 60 = last hour, 1440 = last 24 hours, 10080 = last week
WINDOW_MINUTES=60

# Number of swaps to fetch per batch (pagination)
# Higher = faster but more memory, Lower = slower but less memory
BATCH_SIZE=100

# =============================================================================
# OPTIONAL: CoinGecko API Configuration
# =============================================================================
# CoinGecko provides cryptocurrency price data
# Free tier works without a key (10 requests/minute limit)
# Pro tier ($129/month) allows 500 requests/minute
#
# Get a Pro key at: https://www.coingecko.com/en/api/pricing
#
COINGECKO_API_URL=https://api.coingecko.com/api/v3
# COINGECKO_API_KEY=your-api-key-here  # Uncomment if you have a Pro key
COINGECKO_MAX_REQUESTS_PER_MIN=10  # 10 for free tier, 500 for Pro

# =============================================================================
# Output Configuration
# =============================================================================

# Directory where output files will be saved
OUTPUT_DIR=output

# File to track pipeline state (for idempotency)
STATE_FILE=output/state.json

# Output format: csv, json, or parquet
OUTPUT_FORMAT=csv

# =============================================================================
# Logging
# =============================================================================

# Logging level: DEBUG, INFO, WARNING, ERROR
# Use DEBUG for detailed logs during development
# Use INFO for normal operation
# Use WARNING or ERROR for production
LOG_LEVEL=INFO

# =============================================================================
# Advanced Settings (Usually Don't Need to Change)
# =============================================================================

# Starting block number (0 = use time window instead)
START_BLOCK=0

# Ending block number (empty = fetch latest)
# END_BLOCK=18000000  # Uncomment to set a specific end block
